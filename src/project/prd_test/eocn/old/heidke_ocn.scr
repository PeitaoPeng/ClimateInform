#!/bin/sh

set -eaux

lcdir=/export-6/sgi9/wd52pp/project/prd_skill
tmp=/export-6/sgi9/wd52pp/tmp
datadir=/export-6/cacsrv1/wd52pp/LF_prd
#
nyr=43 #1961-2003
model=eocn
#
/bin/rm $tmp/fort.*         
cp $lcdir/heidke_ocn.f $tmp/.
cd $tmp
unlimit
#
cat > parm.h << eof
       parameter(nyr=$nyr)
       parameter(ncd=102)
eof
#
#
f77 -o heidke_ocn.x heidke_ocn.f
echo "done compiling"

#
 ln -s $datadir/eocnprd_temp.1961-cur.txt   fort.10
 ln -s $datadir/wmoobs_temp.1961-cur.txt   fort.20
 ln -s $datadir/heidke_$model.sfct.uscd.61-03.gr    fort.30
#
heidke_ocn.x > $lcdir/out
#

cat>$datadir/heidke_$model.sfct.uscd.61-03.ctl<<EOF
dset $datadir/heidke_$model.sfct.uscd.61-03.gr
undef 999.0
title Realtime Surface Obs
xdef    1 linear    0.000  1
ydef    1 linear    0.000  5
zdef    1 levels 500
tdef 999 linear jan1950  1mon
vars   2
ss1   0 99 Type of Ob
ss2   0 99 Type of Ob
endvars
EOF
