#!/bin/sh

set -eaux

lcdir=/export/hobbes/wd52pp/project/prd_skill
tmp=/export/hobbes/wd52pp/tmp
datadir=/export-12/cacsrv1/wd52pp/prd_skill
#
nyear=46
#
#/bin/rm $tmp/fort.*         
cp $lcdir/sequence_skill.f $tmp/.
cd $tmp
#
cat > parm.h << eof
       parameter(nyr=$nyear)
eof
#
#
f77 -o sequence_skill.x sequence_skill.f
echo "done compiling"

#
 ln -s $datadir/gocn_prd_hdk_temp.jfm.1961-2006.gr  fort.11
 ln -s $datadir/gocn_prd_hdk_temp.fma.1961-2006.gr  fort.12
 ln -s $datadir/gocn_prd_hdk_temp.mam.1961-2006.gr  fort.13
 ln -s $datadir/gocn_prd_hdk_temp.amj.1961-2006.gr  fort.14
 ln -s $datadir/gocn_prd_hdk_temp.mjj.1961-2006.gr  fort.15
 ln -s $datadir/gocn_prd_hdk_temp.jja.1961-2006.gr  fort.16
 ln -s $datadir/gocn_prd_hdk_temp.jas.1961-2006.gr  fort.17
 ln -s $datadir/gocn_prd_hdk_temp.aso.1961-2006.gr  fort.18
 ln -s $datadir/gocn_prd_hdk_temp.son.1961-2006.gr  fort.19
 ln -s $datadir/gocn_prd_hdk_temp.ond.1961-2006.gr  fort.20
 ln -s $datadir/gocn_prd_hdk_temp.ndj.1961-2006.gr  fort.21
 ln -s $datadir/gocn_prd_hdk_temp.djf.1961-2006.gr  fort.22

 ln -s $datadir/heidke_skill_gocn_sfcT.48MRM.1961-2006.gr  fort.30
 ln -s $datadir/H_skill_gocn.txt   fort.40
#
sequence_skill.x
#

cat>$datadir/heidke_skill_gocn_sfcT.48MRM.1961-2006.ctl<<EOF
dset /export-12/cacsrv1/wd52pp/prd_skill/heidke_skill_gocn_sfcT.48MRM.1961-2006.gr
undef 999.0
title Realtime Surface Obs
xdef    1 linear    0.000  1
ydef    1 linear    0.000  5
zdef    1 levels 500
tdef 999 linear jan1961  1mon
vars   2
h1   0 99 48MRM
h2   0 99 non-MRM
endvars
EOF
